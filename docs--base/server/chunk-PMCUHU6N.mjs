import './polyfills.server.mjs';
import{a as K}from"./chunk-QOL2ADO5.mjs";import{a as J}from"./chunk-HPLBKU4A.mjs";import{a as Q,b as X,c as Y,d as Z}from"./chunk-OPTKXXGC.mjs";import{a as N}from"./chunk-B2EXQY7J.mjs";import{a as ee}from"./chunk-7ANKTE2W.mjs";import"./chunk-GTSSCL6B.mjs";import{a as R,c as z,g as G,l as q}from"./chunk-26NXVID2.mjs";import{a as I}from"./chunk-JNO7ST2A.mjs";import{e as B}from"./chunk-FPWFO7V3.mjs";import"./chunk-KRHHTLWT.mjs";import{w as U}from"./chunk-LDSOU5NY.mjs";import{Bb as F,Gb as d,Hb as S,Ib as H,Jb as O,Kb as L,Lb as j,Ma as y,Nb as P,Ob as k,Pb as D,Qa as s,S as E,Tb as $,Vb as A,Y as p,aa as V,da as M,gb as u,ib as C,ka as f,la as x,mb as _,nb as T,ob as g,pb as h,qb as r,rb as l,sb as m,vb as b,xb as v,yb as c}from"./chunk-ILMFCX3N.mjs";import"./chunk-VVCT4QZE.mjs";var ie=(()=>{let t=class t{constructor(){this._HttpClient=p(U)}getAllCategories(){return this._HttpClient.get(`${I.baseUrl}/api/v1/categories`)}getSpecificCategories(i){return this._HttpClient.get(`${I.baseUrl}/api/v1/categories/${i}`)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ne=(()=>{let t=class t{transform(i,n){return i.filter(a=>a.title.toLowerCase().includes(n.toLowerCase()))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=M({name:"theSeach",type:t,pure:!0,standalone:!0});let e=t;return e})();var W=(e,t)=>t._id,oe=()=>[],re=e=>["/details",e],ae=()=>[1,2,3,4,5];function se(e,t){e&1&&m(0,"img",13)}function le(e,t){e&1&&m(0,"img",14)}function ce(e,t){e&1&&m(0,"img",15)}function me(e,t){e&1&&m(0,"img",16)}function pe(e,t){e&1&&m(0,"img",17)}function de(e,t){e&1&&m(0,"img",18)}function ue(e,t){if(e&1&&(r(0,"div",19),m(1,"img",20),r(2,"h3",21)(3,"i"),d(4),l()()()),e&2){let o=c().$implicit;s(),F("src",o.image,y),F("alt",o.name),s(3),S(o.name)}}function _e(e,t){e&1&&u(0,ue,5,3,"ng-template",4)}function ge(e,t){if(e&1){let o=b();r(0,"i",33),v("click",function(){f(o);let n=c(3).$implicit,a=c();return x(a.addWish(n._id))}),l()}}function he(e,t){if(e&1&&u(0,ge,1,0,"i",32),e&2){let o=t.$implicit,i=c(2).$implicit,n=c();_(0,!n.click&&i._id==o._id?0:-1)}}function fe(e,t){if(e&1&&g(0,he,1,1,null,null,W),e&2){let o=c(2);h(o.dataWithId)}}function xe(e,t){if(e&1){let o=b();r(0,"i",33),v("click",function(){f(o);let n=c(3).$implicit,a=c();return x(a.addWish(n._id))}),l()}}function Ce(e,t){if(e&1&&u(0,xe,1,0,"i",32),e&2){let o=t.$implicit,i=c(2).$implicit;_(0,i._id==o?0:-1)}}function ve(e,t){if(e&1&&g(0,Ce,1,1,null,null,T),e&2){let o=c(2);h(o.dataId)}}function be(e,t){e&1&&(r(0,"span"),m(1,"i",34),l())}function Se(e,t){e&1&&m(0,"i",30)}function we(e,t){if(e&1){let o=b();r(0,"div",12)(1,"div",22)(2,"div",23),u(3,fe,2,0)(4,ve,2,0),r(5,"i",24),v("click",function(){let n=f(o).$implicit,a=c();return x(a.addWish(n._id))}),l()(),r(6,"div",25),m(7,"img",26),r(8,"h3",27)(9,"i"),d(10),l()(),r(11,"h4",28),d(12),l(),r(13,"div",29)(14,"p")(15,"span"),d(16),l()(),r(17,"p"),g(18,be,2,0,"span",null,T),u(20,Se,1,0,"i",30),r(21,"span"),d(22),l()()()(),r(23,"button",31),v("click",function(){let n=f(o).$implicit,a=c();return x(a.add(n._id))}),d(24," Add to cart "),l()()()}if(e&2){let o=t.$implicit,i=c();s(3),_(3,i.dataWithId!==k(10,oe)?3:-1),s(),_(4,i.click==!0?4:-1),s(2),C("routerLink",D(11,re,o._id)),s(),C("src",o.imageCover,y)("alt",o.title),s(3),H(" Category : ",o.category.name,""),s(2),S(o.title.split(" ",2).join(" ")),s(4),H("Price : ",o.price," EGP"),s(2),h(k(13,ae).slice(0,o.ratingsAverage)),s(2),_(20,o.ratingsAverage%1!==0?20:-1),s(2),S(o.ratingsAverage)}}var ze=(()=>{let t=class t{constructor(){this._CategoriesService=p(ie),this._ProductsService=p(Q),this._CartService=p(J),this._ToastrService=p(ee),this._NgxSpinnerService=p(N),this._WishService=p(K),this.searhValue="",this.productList=[],this.categoryList=[],this.idWishList=[],this.click=!1,this.mm=!1,this.dataId=[],this.dataWithId=[],this.customOptionsMain={autoplay:!0,autoplayTimeout:2e3,autoplayHoverPause:!0,loop:!0,rtl:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,navText:["",""],items:1,nav:!1},this.customOptionscat={autoplay:!0,autoplayTimeout:2e3,autoplayHoverPause:!0,loop:!0,rtl:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:6}},nav:!1}}ngOnInit(){this.unsubcategories=this._CategoriesService.getAllCategories().subscribe({next:i=>{console.log(i.data),this.categoryList=i.data}}),this.unsubproduct=this._ProductsService.allproduct().subscribe({next:i=>{console.log(i.data),this.productList=i.data}}),this._WishService.clicked.subscribe({next:i=>{this.click=i}}),this.unsubproduct=this._WishService.iddata.subscribe({next:i=>{console.log("open",i),this.dataId=i}}),this._WishService.getUserWishList().subscribe({next:i=>{console.log("all",i.data),this.dataWithId=i.data}})}heart(){}add(i){this.unSubAdd=this._CartService.addTOCart(i).subscribe({next:n=>{console.log(n),this._CartService.cartno.next(n.numOfCartItems),console.log(n.numOfCartItems),this._ToastrService.success(n.message," DIOR websit")}})}addWish(i){this.unSubAdd=this._WishService.addTOWishList(i).subscribe({next:n=>{console.log("res",n),console.log(n.data),n.status=="success"&&(this._WishService.clicked.next(!0),this._WishService.iddata.next(n.data)),this._WishService.wishproductno.next(n.data.length),this._ToastrService.success(n.message," DIOR websit")}})}ngOnDestroy(){this.unsubcategories?.unsubscribe(),this.unsubproduct?.unsubscribe(),this.unSubAdd?.unsubscribe(),this.unSubAddWish?.unsubscribe()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=V({type:t,selectors:[["app-home"]],standalone:!0,features:[P],decls:25,vars:6,consts:[[1,"container-fluid","py-3"],[1,"row","g-0"],[1,"col-md-9"],[3,"options"],["carouselSlide",""],[1,"col-md-3"],["src","./assets/images/slidermain/slider-2.jpeg","height","200px","alt","",1,"w-100"],["src","./assets/images/slidermain/slider-image-3.jpeg","height","200px","alt","",1,"w-100"],[1,"text-decoration-underline","mb-4"],[1,"container-fluid","py-5"],["type","search","placeholder","Search by product name.........",1,"form-control","w-75","mx-auto","shadow",3,"ngModelChange","ngModel"],[1,"row","g-4","my-3"],[1,"col-md-3","h-100"],["src","./assets/images/slidermain/banner-4.jpeg","height","400px","alt","",1,"w-100"],["src","./assets/images/slidermain/blog-img-1.jpeg","height","400px","alt","",1,"w-100"],["src","./assets/images/slidermain/grocery-banner-2.jpeg","height","400px","alt","",1,"w-100"],["src","./assets/images/slidermain/slider-image-1.jpeg","height","400px","alt","",1,"w-100"],["src","./assets/images/slidermain/slider-image-2.jpeg","height","400px","alt","",1,"w-100"],["src","./assets/images/slidermain/blog-img-2.jpeg","height","400px","alt","",1,"w-100"],[1,"border","border-info-subtle","border-3","bg-sec"],["height","250px",1,"w-100","border-bottom","border-info-subtle","border-5",3,"src","alt"],[1,"h5","text-main","text-center","mt-1"],[1,"block","p-2","border","border-3","border-info-subtle","bg-sec","h-100"],[1,"text-end"],[1,"fa-regular","fa-heart","text-danger","fs-2","fa-xl","change",3,"click"],[3,"routerLink"],[1,"w-100","image",3,"src","alt"],[1,"h4","text-info-emphasis","small","mt-3","text-decoration-underline"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star-half","rating-color"],[1,"btn","bg-info-subtle","text-main","cr","w-100",3,"click"],[1,"fa-solid","fa-heart","text-danger","fs-2","fa-xl","change"],[1,"fa-solid","fa-heart","text-danger","fs-2","fa-xl","change",3,"click"],[1,"fas","fa-star","rating-color"]],template:function(n,a){n&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"owl-carousel-o",3),u(4,se,1,0,"ng-template",4)(5,le,1,0,"ng-template",4)(6,ce,1,0,"ng-template",4)(7,me,1,0,"ng-template",4)(8,pe,1,0,"ng-template",4)(9,de,1,0,"ng-template",4),l()(),r(10,"div",5),m(11,"img",6)(12,"img",7),l()()(),r(13,"section",0)(14,"h2",8),d(15,"popular categories"),l(),r(16,"owl-carousel-o",3),g(17,_e,1,0,null,4,W),l()(),r(19,"section",9)(20,"input",10),j("ngModelChange",function(w){return L(a.searhValue,w)||(a.searhValue=w),w}),l(),r(21,"div",11),g(22,we,25,14,"div",12,W),$(24,"theSeach"),l()()),n&2&&(s(3),C("options",a.customOptionsMain),s(13),C("options",a.customOptionscat),s(),h(a.categoryList),s(3),O("ngModel",a.searhValue),s(2),h(A(24,3,a.productList.slice(0,12),a.searhValue)))},dependencies:[Z,Y,X,B,ne,q,R,z,G],styles:["@media (max-width: 768px){.col-md-3[_ngcontent-%COMP%]{display:none}}.image[_ngcontent-%COMP%]{border-radius:5px;border:solid 1px var(--main-color);transition:box-shadow .5s;overflow:hidden}.block[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{box-shadow:0 0 50px var(--main-color)}"]});let e=t;return e})();export{ze as HomeComponent};
