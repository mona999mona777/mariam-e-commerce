import './polyfills.server.mjs';
import{a as j}from"./chunk-2EWELVR6.mjs";import{a as M,b as _,c as k,d as B,h as V,i as I,j as L,k as O,m as $}from"./chunk-26NXVID2.mjs";import"./chunk-JNO7ST2A.mjs";import{d as G}from"./chunk-FPWFO7V3.mjs";import"./chunk-KRHHTLWT.mjs";import{j as D}from"./chunk-LDSOU5NY.mjs";import{Gb as a,Ib as F,Nb as A,Qa as s,Qb as b,Y as q,aa as N,gb as c,ib as h,mb as u,qb as l,rb as n,sb as C,xb as P,yb as v}from"./chunk-ILMFCX3N.mjs";import"./chunk-VVCT4QZE.mjs";var R=(t,i)=>({"is-valid":t,"is-invalid":i});function z(t,i){t&1&&(l(0,"p",19),a(1,"name is required."),n())}function H(t,i){t&1&&(l(0,"p",19),a(1,"name should be more or equal tha 3 chars."),n())}function J(t,i){t&1&&(l(0,"p",19),a(1,"name should be less or equal tha 20 chars."),n())}function K(t,i){if(t&1&&(l(0,"div",6),c(1,z,2,0,"p",19)(2,H,2,0)(3,J,2,0),n()),t&2){let r,o=v();s(),u(1,(r=o.register.get("name"))!=null&&r.getError("required")?1:(r=o.register.get("name"))!=null&&r.getError("minlength")?2:(r=o.register.get("name"))!=null&&r.getError("maxlength")?3:-1)}}function Q(t,i){t&1&&(l(0,"p",19),a(1,"email is required."),n())}function U(t,i){t&1&&(l(0,"p",19),a(1,"enter valid email."),n())}function W(t,i){if(t&1&&(l(0,"div",6),c(1,Q,2,0,"p",19)(2,U,2,0),n()),t&2){let r,o=v();s(),u(1,(r=o.register.get("email"))!=null&&r.getError("required")?1:(r=o.register.get("email"))!=null&&r.getError("email")?2:-1)}}function X(t,i){t&1&&(l(0,"p",19),a(1,"password is required."),n())}function Y(t,i){t&1&&(l(0,"p",19),a(1,"enter valid password."),n())}function Z(t,i){if(t&1&&(l(0,"div",6),c(1,X,2,0,"p",19)(2,Y,2,0),n()),t&2){let r,o=v();s(),u(1,(r=o.register.get("password"))!=null&&r.getError("required")?1:(r=o.register.get("password"))!=null&&r.getError("pattern")?2:-1)}}function ee(t,i){t&1&&(l(0,"div",6)(1,"p",19),a(2,"password confirmation is incorrect ."),n()())}function te(t,i){t&1&&(l(0,"p",19),a(1,"phone is required."),n())}function ne(t,i){t&1&&(l(0,"p",19),a(1,"enter valid phone."),n())}function ie(t,i){if(t&1&&(l(0,"div",6),c(1,te,2,0,"p",19)(2,ne,2,0),n()),t&2){let r,o=v();s(),u(1,(r=o.register.get("phone"))!=null&&r.getError("required")?1:(r=o.register.get("phone"))!=null&&r.getError("pattern")?2:-1)}}function re(t,i){t&1&&C(0,"span",16)}function le(t,i){if(t&1&&(l(0,"p",17),a(1),n()),t&2){let r=v();s(),F(" ",r.messgerror," ")}}function oe(t,i){if(t&1&&(l(0,"p",18),a(1),n()),t&2){let r=v();s(),F(" ",r.messsuccess," ")}}var _e=(()=>{let i=class i{constructor(){this._AuthService=q(j),this._FormBuilder=q(O),this._Router=q(G),this.messgerror="",this.messsuccess="",this.isloading=!1,this.register=this._FormBuilder.group({name:[null,[_.required,_.minLength(3),_.maxLength(20)]],email:[null,[_.required,_.email]],password:[null,[_.required,_.pattern(/^\w{6,}$/)]],rePassword:[null],phone:[null,[_.required,_.pattern(/^01[125][0-9]{8}$/)]]},{validators:this.repassword})}repassword(o){return o.get("password")?.value===o.get("rePassword")?.value?null:{mismatch:!0}}registerfunction(){this.register.valid?(this.isloading=!0,this.unsub=this._AuthService.setregisterform(this.register.value).subscribe({next:o=>{this.messsuccess=o.message,this.messgerror="",console.log(o),this.isloading=!1,o.message=="success"&&setTimeout(()=>{this._Router.navigate(["/login"])},1e3)},error:o=>{console.log(o),this.isloading=!1,this.messgerror=o.error.message,this.messsuccess=""}})):(this.register.setErrors({mismatch:!0}),this.register.markAllAsTouched())}ngOnDestroy(){this.unsub?.unsubscribe()}};i.\u0275fac=function(T){return new(T||i)},i.\u0275cmp=N({type:i,selectors:[["app-register"]],standalone:!0,features:[A],decls:34,vars:29,consts:[[1,"bg-custome","shadow","p-3","my-2","rounded-4"],[1,"h2","text-main","text-decoration-underline"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["id","name","type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger"],["for","email"],["id","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password"],["id","password","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","repassword"],["id","repassword","type","password","formControlName","rePassword",1,"form-control",3,"ngClass"],["for","phone"],["id","phone","type","tel","formControlName","phone",1,"form-control",3,"ngClass"],["type","submit",1,"btn-main","ms-auto","d-block"],[1,"fas","fa-spin","fa-spinner"],[1,"text-center","alert","alert-danger","w-50","mx-auto"],[1,"text-center","alert","alert-success","w-50","mx-auto"],[1,"m-0"]],template:function(T,e){if(T&1&&(l(0,"section",0)(1,"h1",1),a(2,"Register Now:"),n(),l(3,"form",2),P("ngSubmit",function(){return e.registerfunction()}),l(4,"div",3)(5,"label",4),a(6,"name"),n(),C(7,"input",5),c(8,K,4,1,"div",6),n(),l(9,"div",3)(10,"label",7),a(11,"email"),n(),C(12,"input",8),c(13,W,3,1,"div",6),n(),l(14,"div",3)(15,"label",9),a(16,"password"),n(),C(17,"input",10),c(18,Z,3,1,"div",6),n(),l(19,"div",3)(20,"label",11),a(21,"repassword"),n(),C(22,"input",12),c(23,ee,3,0,"div",6),n(),l(24,"div",3)(25,"label",13),a(26,"phone"),n(),C(27,"input",14),c(28,ie,3,1,"div",6),n(),l(29,"button",15),a(30," register "),c(31,re,1,0,"span",16),n()(),c(32,le,2,1,"p",17)(33,oe,2,1,"p",18),n()),T&2){let m,w,d,E,g,y,f,x,p,S;s(3),h("formGroup",e.register),s(4),h("ngClass",b(14,R,!((m=e.register.get("name"))!=null&&m.errors)&&(((m=e.register.get("name"))==null?null:m.touched)||((m=e.register.get("name"))==null?null:m.dirty)),((m=e.register.get("name"))==null?null:m.errors)&&(((m=e.register.get("name"))==null?null:m.touched)||((m=e.register.get("name"))==null?null:m.dirty)))),s(),u(8,(w=e.register.get("name"))!=null&&w.errors&&((w=e.register.get("name"))!=null&&w.touched||(w=e.register.get("name"))!=null&&w.dirty)?8:-1),s(4),h("ngClass",b(17,R,!((d=e.register.get("email"))!=null&&d.errors)&&(((d=e.register.get("email"))==null?null:d.touched)||((d=e.register.get("email"))==null?null:d.dirty)),((d=e.register.get("email"))==null?null:d.errors)&&(((d=e.register.get("email"))==null?null:d.touched)||((d=e.register.get("email"))==null?null:d.dirty)))),s(),u(13,(E=e.register.get("email"))!=null&&E.errors&&((E=e.register.get("email"))!=null&&E.touched||(E=e.register.get("email"))!=null&&E.dirty)?13:-1),s(4),h("ngClass",b(20,R,!((g=e.register.get("password"))!=null&&g.errors)&&(((g=e.register.get("password"))==null?null:g.touched)||((g=e.register.get("password"))==null?null:g.dirty)),((g=e.register.get("password"))==null?null:g.errors)&&(((g=e.register.get("password"))==null?null:g.touched)||((g=e.register.get("password"))==null?null:g.dirty)))),s(),u(18,(y=e.register.get("password"))!=null&&y.errors&&((y=e.register.get("password"))!=null&&y.touched||(y=e.register.get("password"))!=null&&y.dirty)?18:-1),s(4),h("ngClass",b(23,R,!e.register.getError("mismatch")&&(((f=e.register.get("rePassword"))==null?null:f.touched)||((f=e.register.get("rePassword"))==null?null:f.dirty)),e.register.getError("mismatch")&&(((f=e.register.get("rePassword"))==null?null:f.touched)||((f=e.register.get("rePassword"))==null?null:f.dirty)))),s(),u(23,e.register.getError("mismatch")&&((x=e.register.get("rePassword"))!=null&&x.touched||(x=e.register.get("rePassword"))!=null&&x.dirty)?23:-1),s(4),h("ngClass",b(26,R,!((p=e.register.get("phone"))!=null&&p.errors)&&(((p=e.register.get("phone"))==null?null:p.touched)||((p=e.register.get("phone"))==null?null:p.dirty)),((p=e.register.get("phone"))==null?null:p.errors)&&(((p=e.register.get("phone"))==null?null:p.touched)||((p=e.register.get("phone"))==null?null:p.dirty)))),s(),u(28,(S=e.register.get("phone"))!=null&&S.errors&&((S=e.register.get("phone"))!=null&&S.touched||(S=e.register.get("phone"))!=null&&S.dirty)?28:-1),s(3),u(31,e.isloading?31:-1),s(),u(32,e.messgerror?32:-1),s(),u(33,e.messsuccess?33:-1)}},dependencies:[$,V,M,k,B,I,L,D],styles:[".bg-custome[_ngcontent-%COMP%]{background-color:#dbd4cc}"]});let t=i;return t})();export{_e as RegisterComponent};
