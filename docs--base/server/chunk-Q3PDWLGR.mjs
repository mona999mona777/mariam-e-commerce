import './polyfills.server.mjs';
import{a as z}from"./chunk-6NNPOWQB.mjs";import{a as I,b as O,c as k,d as D,e as G,f as E,h as M,i as V,j,m as $}from"./chunk-26NXVID2.mjs";import"./chunk-JNO7ST2A.mjs";import{a as R,d as A}from"./chunk-FPWFO7V3.mjs";import"./chunk-KRHHTLWT.mjs";import{j as N}from"./chunk-LDSOU5NY.mjs";import{Gb as u,Ib as x,Nb as q,Qa as r,Qb as S,Y as y,aa as w,gb as p,ib as f,mb as c,qb as l,rb as n,sb as F,xb as b,yb as C}from"./chunk-ILMFCX3N.mjs";import"./chunk-VVCT4QZE.mjs";var T=(t,i)=>({"is-valid":t,"is-invalid":i});function B(t,i){t&1&&(l(0,"p",15),u(1,"details is required."),n())}function H(t,i){if(t&1&&(l(0,"div",6),p(1,B,2,0,"p",15),n()),t&2){let o,a=C();r(),c(1,(o=a.cashOrderForm.get("details"))!=null&&o.getError("required")?1:-1)}}function J(t,i){t&1&&(l(0,"p",15),u(1,"phone is required."),n())}function K(t,i){t&1&&(l(0,"p",15),u(1,"phone is required."),n())}function L(t,i){if(t&1&&(l(0,"div",6),p(1,J,2,0,"p",15)(2,K,2,0),n()),t&2){let o,a=C();r(),c(1,(o=a.cashOrderForm.get("phone"))!=null&&o.getError("required")?1:(o=a.cashOrderForm.get("phone"))!=null&&o.getError("pattern")?2:-1)}}function P(t,i){t&1&&(l(0,"p",15),u(1,"city is required."),n())}function Q(t,i){if(t&1&&(l(0,"div",6),p(1,P,2,0,"p",15),n()),t&2){let o,a=C();r(),c(1,(o=a.cashOrderForm.get("city"))!=null&&o.getError("required")?1:-1)}}function U(t,i){t&1&&F(0,"span",12)}function W(t,i){if(t&1&&(l(0,"p",13),u(1),n()),t&2){let o=C();r(),x(" ",o.messgsuc," ")}}function X(t,i){if(t&1&&(l(0,"p",14),u(1),n()),t&2){let o=C();r(),x(" ",o.messgerr," ")}}var oe=(()=>{let i=class i{constructor(){this._OrderService=y(z),this._ActivatedRoute=y(R),this._Router=y(A),this.isloading=!1,this.cashOrderForm=new G({details:new E(null,[O.required]),phone:new E(null,[O.required,O.pattern(/^01[125][0-9]{8}$/)]),city:new E(null,[O.required])})}ngOnInit(){this.unsub=this._ActivatedRoute.paramMap.subscribe({next:a=>{this.cartId=a.get("cartId")}})}cashOrderFunc(){this.cashOrderForm.valid?(this.isloading=!0,this._OrderService.cashOrderapi(this.cartId,this.cashOrderForm.value).subscribe({next:a=>{console.log(a),this.isloading=!1,this.messgsuc=a.status,a.status=="success"&&this._Router.navigate(["/allorders"])}})):this.cashOrderForm.markAllAsTouched()}ngOnDestroy(){this.unsub?.unsubscribe()}};i.\u0275fac=function(v){return new(v||i)},i.\u0275cmp=w({type:i,selectors:[["app-cash"]],standalone:!0,features:[q],decls:24,vars:19,consts:[[1,"bg-custome","w-50","mx-auto","my-5","shadow","p-3","my-2","rounded-4"],[1,"h2","text-main","text-decoration-underline"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","details"],["id","details","type","text","formControlName","details",1,"form-control",3,"ngClass"],[1,"alert","alert-danger"],["for","phone"],["id","phone","type","tel","formControlName","phone",1,"form-control",3,"ngClass"],["for","city"],["id","city","type","text","formControlName","city",1,"form-control",3,"ngClass"],["type","submit",1,"btn-main","ms-auto","d-block",3,"click"],[1,"fas","fa-spin","fa-spinner"],[1,"text-center","alert","alert-success","w-50","mx-auto"],[1,"text-center","alert","alert-danger","w-50","mx-auto"],[1,"m-0"]],template:function(v,e){if(v&1&&(l(0,"section",0)(1,"h1",1),u(2," the order now cash payment: "),n(),l(3,"form",2),b("ngSubmit",function(){return e.cashOrderFunc()}),l(4,"div",3)(5,"label",4),u(6,"details"),n(),F(7,"input",5),p(8,H,2,1,"div",6),n(),l(9,"div",3)(10,"label",7),u(11,"phone"),n(),F(12,"input",8),p(13,L,3,1,"div",6),n(),l(14,"div",3)(15,"label",9),u(16,"city"),n(),F(17,"input",10),p(18,Q,2,1,"div",6),n(),l(19,"button",11),b("click",function(){return e.cashOrderFunc()}),u(20," order now "),p(21,U,1,0,"span",12),n()(),p(22,W,2,1,"p",13)(23,X,2,1,"p",14),n()),v&2){let s,h,d,_,m,g;r(3),f("formGroup",e.cashOrderForm),r(4),f("ngClass",S(10,T,!((s=e.cashOrderForm.get("details"))!=null&&s.errors)&&(((s=e.cashOrderForm.get("details"))==null?null:s.touched)||((s=e.cashOrderForm.get("details"))==null?null:s.dirty)),((s=e.cashOrderForm.get("details"))==null?null:s.errors)&&(((s=e.cashOrderForm.get("details"))==null?null:s.touched)||((s=e.cashOrderForm.get("details"))==null?null:s.dirty)))),r(),c(8,(h=e.cashOrderForm.get("details"))!=null&&h.errors&&((h=e.cashOrderForm.get("details"))!=null&&h.touched||(h=e.cashOrderForm.get("details"))!=null&&h.dirty)?8:-1),r(4),f("ngClass",S(13,T,!((d=e.cashOrderForm.get("phone"))!=null&&d.errors)&&(((d=e.cashOrderForm.get("phone"))==null?null:d.touched)||((d=e.cashOrderForm.get("phone"))==null?null:d.dirty)),((d=e.cashOrderForm.get("phone"))==null?null:d.errors)&&(((d=e.cashOrderForm.get("phone"))==null?null:d.touched)||((d=e.cashOrderForm.get("phone"))==null?null:d.dirty)))),r(),c(13,(_=e.cashOrderForm.get("phone"))!=null&&_.errors&&((_=e.cashOrderForm.get("phone"))!=null&&_.touched||(_=e.cashOrderForm.get("phone"))!=null&&_.dirty)?13:-1),r(4),f("ngClass",S(16,T,!((m=e.cashOrderForm.get("city"))!=null&&m.errors)&&(((m=e.cashOrderForm.get("city"))==null?null:m.touched)||((m=e.cashOrderForm.get("city"))==null?null:m.dirty)),((m=e.cashOrderForm.get("city"))==null?null:m.errors)&&(((m=e.cashOrderForm.get("city"))==null?null:m.touched)||((m=e.cashOrderForm.get("city"))==null?null:m.dirty)))),r(),c(18,(g=e.cashOrderForm.get("city"))!=null&&g.errors&&((g=e.cashOrderForm.get("city"))!=null&&g.touched||(g=e.cashOrderForm.get("city"))!=null&&g.dirty)?18:-1),r(3),c(21,e.isloading?21:-1),r(),c(22,e.messgsuc?22:-1),r(),c(23,e.messgerr?23:-1)}},dependencies:[$,M,I,k,D,V,j,N]});let t=i;return t})();export{oe as CashComponent};
